{% extends "base.html" %}

{% block content %}
<form action="" method="post" novalidate>
    {{ form.hidden_tag() }}
    <h2>{{title}}</h2>
    <h4>{{post}}</h4>
    <p>by {{post_author.username}} </p>
    <p>
        {{ form.content.label }}<br>
        {{ form.content(cols=50, rows=4) }}<br>
        {% for error in form.errors %}
        <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
         <p>{{ form.submit() }}</p>
    </p>


    {% if comments%}
        <h2>Comments</h2>
        {% for comment in comments %}
            <p><b>{{comment}} by {{comment.get_username()}}</b> {{comment.timestamp}}</p>
        {% endfor %}
    {% else %}
        <h2>No comments yet</h2>
    {% endif %}

</form>
{% endblock %}
